/*
 * jQuery Carousel Effects Plugin for WYSIWYG Web Builder 10
 * Copyright Pablo Software solutions 2015
 * http://www.wysiwygwebbuilder.com/
 */
(function(b){b.fn.carouseleffects=function(c){return this.each(function(){b.carouseleffects(this,c)})};b.carouseleffects=function(c,a){var d={mode:"none",duration:2E3,easing:"linear",scalemode:0,direction:"",delay:2E3,type:"sequence",pagination:!0,pagination_img_default:"",pagination_img_active:"",current:1,last:0};if(a&&"string"==typeof a)"next"==a?(b.carouseleffects.killTimer(c),b.carouseleffects.nextFrame(c)):"prev"==a?(b.carouseleffects.killTimer(c),b.carouseleffects.prevFrame(c)):-1!=a.indexOf("goto")&& (d=a.slice(5),b.carouseleffects.gotoFrame(c,d));else{a&&(state=b.extend(d,a));0==state.delay&&--state.current;state.original_width=b(c).parent().outerWidth();b.carouseleffects.init(c,state);if(a.pagination){$pagination=b('<div class="pagination" />');for(var d=b(c).find(".frame").get(),e=0;e<d.length;e++){var f=b("<a />").attr("id",String(e+1)).css("cursor","pointer");b("<img />").attr({id:"page_"+String(e+1),src:a.pagination_img_default}).appendTo(f);f.click(function(){b.carouseleffects.gotoFrame(c, b(this).attr("id"))});f.appendTo($pagination)}$pagination.appendTo(b(c).parent());b.carouseleffects.updateNavigation(c,0,state.last)}1==a.scalemode&&(b.carouseleffects.resize(c),b(window).resize(function(){b.carouseleffects.resize(c)}))}};b.carouseleffects.init=function(c,a){a.frames=b(c).find(".frame").get();b.each(a.frames,function(c){b(a.frames[c]).css("zIndex",a.frames.length-c).css("position","absolute").css("top","0").css("left","0")});a.random=!1;a.reverse=!1;"random"==a.mode&&(a.random=!0); b(c).data("state",a);if(0!=a.start){for(var d=0;d<a.frames.length;d++)b(a.frames[d]).css("display","none");a.current=a.start;b(a.frames[a.current]).css("zIndex","1").show();0==a.delay?a.last=a.current:b.carouseleffects.next(a)}else setTimeout(function(){b(c).trigger("activate",0)},10);0!=a.delay&&(d=setTimeout(function(){b.carouseleffects.frameTransition(c)},a.delay),b(c).data("timerId",d))};b.carouseleffects.killTimer=function(c){c=b(c).data("timerId");clearInterval(c)};b.carouseleffects.updateNavigation= function(c,a,d){var e=b(c).data("state");b(c).parent().find(".pagination img:eq("+a+")").attr("src",e.pagination_img_default);b(c).parent().find(".pagination img:eq("+d+")").attr("src",e.pagination_img_active)};b.carouseleffects.gotoFrame=function(c,a){b.carouseleffects.killTimer(c);var d=b(c).data("state");0!=d.delay&&(d.current--,0>d.current&&(d.current=d.frames.length-1));a-1!=d.current&&(0==d.delay&&(d.last=d.current),d.current=Math.min(a-1,d.frames.length-1),d.delay=0,d.pagination&&b.carouseleffects.updateNavigation(c, d.last,d.current),b.carouseleffects.frameTransition(c),d.last=d.current)};b.carouseleffects.nextFrame=function(c){state=b(c).data("state");0!=state.delay&&(state.current=state.last);state.delay=0;b.carouseleffects.next(state);b.carouseleffects.frameTransition(c)};b.carouseleffects.prevFrame=function(c){state=b(c).data("state");0!=state.delay&&(state.current=state.last);state.delay=0;0<=state.current-1?(--state.current,state.last=state.current+1):(state.current=state.frames.length-1,state.last=0); b.carouseleffects.frameTransition(c)};b.carouseleffects.next=function(b){if("sequence"==b.type)b.current+1<b.frames.length?(b.current+=1,b.last=b.current-1):(b.current=0,b.last=b.frames.length-1);else if("random"==b.type)for(b.last=b.current;b.current==b.last;)b.current=Math.floor(Math.random()*b.frames.length)};b.carouseleffects.frameTransition=function(c){var a=b(c).data("state"),d=a.current;if(a.random){var e="fade slide puff blind drop clip shuffle blast blocks rain swirl squares bars".split(" "), f=["left","up","down","right"],g=["horizontal","vertical"];a.mode=e[Math.floor(Math.random()*e.length)];if("slide"==a.mode||"drop"==a.mode)a.direction=f[Math.floor(Math.random()*f.length)];if("clip"==a.mode||"blinds"==a.mode||"bars"==a.mode)a.direction=g[Math.floor(Math.random()*g.length)]}for(e=0;e<a.frames.length;e++)b(a.frames[e]).css("display","none");b(a.frames[a.last]).css("display","block").css("zIndex","0");a.pagination&&b.carouseleffects.updateNavigation(c,a.last,a.current);"none"==a.mode? (b(a.frames[a.current]).css("zIndex","1").show(),b(a.frames[a.last]).css("display","none"),b(c).trigger("activate",d)):"fade"==a.mode?(b(a.frames[a.current]).css("zIndex","1").fadeIn(a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).fadeOut(a.duration)):"slide"==a.mode?(b(a.frames[a.current]).css("zIndex","1").show("slide",{direction:a.direction,easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("slide",{direction:a.direction,easing:a.easing}, a.duration)):"puff"==a.mode?(b(a.frames[a.current]).css("zIndex","1").show("puff",{easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("puff",{easing:a.easing},a.duration)):"blind"==a.mode?(b(a.frames[a.current]).css("zIndex","1").show("blind",{direction:a.direction,easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("blind",{direction:a.direction,easing:a.easing},a.duration)):"clip"==a.mode?(b(a.frames[a.current]).css("zIndex", "1").show("clip",{direction:a.direction,easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("clip",{direction:a.direction,easing:a.easing},a.duration)):"drop"==a.mode?(b(a.frames[a.current]).css("zIndex","1").show("drop",{direction:a.direction,easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("drop",{direction:a.direction,easing:a.easing},a.duration)):"fold"==a.mode?(b(a.frames[a.current]).css("zIndex","1").show("fold", {easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("fold",{easing:a.easing},a.duration)):"rotate"==a.mode?(b(a.frames[a.last]).animate({rotate:180,scale:10,opacity:"hide"},{duration:a.duration,easing:a.easing}),b(a.frames[a.current]).css("zIndex","1"),b(a.frames[a.current]).css({scale:10,rotate:-180}),b(a.frames[a.current]).animate({opacity:"show",rotate:0,scale:1},{duration:a.duration,easing:a.easing,complete:function(){b(c).trigger("activate",d)}})):b(a.frames[a.current]).css("zIndex", "1").show(a.mode,{},a.duration,function(){b(c).trigger("activate",d)});0!=a.delay&&(b.carouseleffects.next(a),a=setTimeout(function(){b.carouseleffects.frameTransition(c)},a.delay),b(c).data("timerId",a))};b.carouseleffects.resize=function(c){var a=0,a="undefined"!=typeof window.innerWidth?window.innerWidth:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?document.documentElement.clientWidth:document.getElementsByTagName("body")[0].clientWidth; b(c).parent().css("width","100%");b(c).parent().css("left","0");var d=b(c).data("state");b(c).find(".frame").each(function(c){b(this).css({width:a+"px"});var f=(a-d.original_width)/2;b(this).children().each(function(){var a=0,a=b(this).data("left");void 0!=a?a=parseInt(a):(a=parseInt(b(this).css("left")),b(this).data("left",a+"px"));b(this).css("left",a+f+"px")})})}})(jQuery);